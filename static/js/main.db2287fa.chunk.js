(window["webpackJsonpqr-auth-web"]=window["webpackJsonpqr-auth-web"]||[]).push([[1],{108:function(e,t,a){e.exports=a(1444)},1443:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=a(51),i=(a(210),a(177)),l=a.n(i),u=a(75),m=a(56),d=(a(215),a(192),a(174)),p=(a(193),a(9)),f=(a(194),a(109)),g=a(67),h=a(68),b=a(73),E=a(69),v=a(74),O=a(19),y=a.n(O),_=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleMenuClick=function(e){"logout"===e.key&&a.props.userLogout().then((function(e){window.location.href="/qr-login-web"}))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;console.log("this.props",this.props);var t=r.a.createElement(f.a,{onClick:this.handleMenuClick},r.a.createElement(f.a.Item,{key:"account"},r.a.createElement(u.b,{to:"/account"},"My Account")),r.a.createElement(f.a.Item,{key:"logout"},"Logout")),a=this.props.user.isAuthenticated;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",width:"100%",zIndex:"10"}},r.a.createElement(y.a,{className:"loading"})),r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-white py-0"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{className:"align-text-bottom",src:"".concat("/qr-login-web","/assets/images/logo.png"),alt:"Last"}),r.a.createElement("span",{className:"text-primary h1 font-weight-bold"},"Last")),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},!a&&r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.props.toggleAuthModel(!0)}},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Login/Sinup"),a&&r.a.createElement(d.a,{overlay:t,trigger:["click"]},r.a.createElement("a",{className:"nav-link"},this.props.user.userInfo.full_name," ",r.a.createElement(p.a,{type:"down"}))))))))))}}]),t}(n.Component),w=function(e){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container py-5 my-3"},r.a.createElement("div",{className:"row justify-content-md-between"},r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-3 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"About"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Team")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Locations")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Privacy")))),r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-3 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"Features"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Cool stuff")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Random feature")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Team feature")))),r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-4 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"Resources"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Resource")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Resource name")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Another resource")))),r.a.createElement("div",{className:"col-md-7 col-lg-4"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"We are driven to deliver results for all your businesses."),r.a.createElement("button",{type:"button",className:"btn btn-dark border-0 text-left mb-2 mr-1"},r.a.createElement("span",{className:"media align-items-center"},r.a.createElement("span",{className:"fab fa-apple fa-2x mr-3"}),r.a.createElement("span",{className:"media-body"},r.a.createElement("span",{className:"d-block small"},"Download on the"),r.a.createElement("strong",{className:"font-size-1"},"App Store")))),r.a.createElement("button",{type:"button",className:"btn btn-dark border-0 text-left mb-2"},r.a.createElement("span",{className:"media align-items-center"},r.a.createElement("span",{className:"fab fa-google-play fa-2x mr-3"}),r.a.createElement("span",{className:"media-body"},r.a.createElement("span",{className:"d-block small"},"Get it on"),r.a.createElement("strong",{className:"font-size-1"},"Google Play"))))))),r.a.createElement("div",{className:"container-fluid border-top py-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"mb-3",href:"index.html"},r.a.createElement("img",{className:"align-text-bottom",src:"assets/images/logo.png",alt:"Last"}),r.a.createElement("span",{className:"text-primary h1 font-weight-bold"},"Last")),r.a.createElement("p",{className:"small text-muted mb-2"},"\xa9 LastHope. 2018 MarvisDesign. All rights reserved."))))},j=function(e){var t="Page not found";return e.text&&(t=e.text),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,t),r.a.createElement("div",{style:{fontSize:72,fontWeight:"bold"}},"404"),r.a.createElement("img",{src:"".concat("/qr-login-web","/assets/Black_Hole_Orange.png"),alt:"Black_Hole_Orange"}))},N=a(23),S=a.n(N),L=a(31),C=a(34),k=a(108),P=a.n(k),A=a(25),T=P()(),x=!1,I=[],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;I.forEach((function(a){e?a.reject(e):a.resolve(t)})),I=[]};function R(){S.a.defaults.timeout=L.a.TIMEOUT,S.a.defaults.baseURL=L.a.BASE_URL;var e=Object(C.a)("access_token");e&&(S.a.defaults.headers.common.Authorization="Bearer ".concat(e),S.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"),S.a.interceptors.response.use(U,q)}var U=function(e){return e&&e.data?e.data:e},q=function(e){if(console.log("Axios onResponseError",e.response),!e.response)return Promise.reject(e);if(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),401!==e.response.status)return Promise.reject(e);var t="".concat(e.config.baseURL,"/oauth/token");if(e.config.url===t||"Account is disabled."===e.response.message)return localStorage.clear(),window.location.href="/qr-login-web",Promise.reject(e);var a=e.config;if(401===e.response.status){if(a._retry)return localStorage.clear(),window.location.href="/qr-login-web",Promise.reject(e);if(x)return new Promise((function(e,t){I.push({resolve:e,reject:t})})).then((function(e){return a.headers.Authorization="Bearer "+e,S()(a)})).catch((function(e){return Promise.reject(e)}));a._retry=!0,x=!0;var n=Object(C.a)("refresh_token");return T.dispatch(Object(A.e)(n)).then((function(e){var t="Bearer ".concat(e.access_token);return a.headers.Authorization=t,D(null,e.access_token),S()(a)})).catch((function(e){return localStorage.clear(),window.location.href="/",D(e,null),Promise.reject(e)})).finally((function(e){x=!1,R()}))}},M=(a(292),a(189)),B=(a(63),a(17)),z=(a(197),a(135)),G=(a(295),a(141)),F=(a(297),a(140)),H=a(182),Y=a.n(H),V=a(183),W=a.n(V),Q=a(184),X=(a(142),a(45)),K=(a(144),a(55)),J=a(110),Z=a.n(J),$=K.a.Item,ee=K.a.create({name:"signup_form"})((function(e){var t=e.form.getFieldDecorator;return console.log("in",new Date),r.a.createElement(K.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||e.onSubmit(a)}))}},r.a.createElement($,{className:"mb-0"},t("first_name",{rules:[{required:!0,message:"First Name is required!"}]})(r.a.createElement(X.a,{placeholder:"First Name"}))),r.a.createElement($,{className:"mb-0"},t("last_name",{rules:[{required:!0,message:"Last Name is required!"}]})(r.a.createElement(X.a,{placeholder:"Last Name"}))),r.a.createElement($,{className:"mb-0"},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Email is required!"}]})(r.a.createElement(X.a,{placeholder:"Email"}))),r.a.createElement($,{className:"mb-0"},t("password",{rules:[{required:!0,message:"Password is required!"}]})(r.a.createElement(X.a,{type:"password",placeholder:"Password"}))),r.a.createElement($,{className:"mb-0"},t("password_confirmation",{rules:[{required:!0,message:"Password Confirmation is required!"},{validator:function(t,a,n){var r=e.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()}}]})(r.a.createElement(X.a,{type:"password",placeholder:"Password Confirmation"}))),r.a.createElement($,{className:"mt-3"},r.a.createElement(B.a,{type:"primary",htmlType:"submit",block:!0},"Sign Up"),r.a.createElement(B.a,{type:"primary",onClick:function(){e.form.setFieldsValue({first_name:Z.a.name.firstName(),last_name:Z.a.name.firstName(),email:Z.a.internet.email(),password:"12345",password_confirmation:"12345"})},block:!0},"Patch Data")))})),te=K.a.Item,ae=K.a.create({name:"login_form"})((function(e){var t=e.form.getFieldDecorator;return r.a.createElement(K.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||e.onSubmit(a)}))}},r.a.createElement(te,{className:"mb-0"},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your email!"}]})(r.a.createElement(X.a,{placeholder:"E-mail Address"}))),r.a.createElement(te,{className:"mb-0"},t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(X.a,{type:"password",placeholder:"Password"}))),r.a.createElement(te,{className:"mt-3"},r.a.createElement(B.a,{type:"primary",htmlType:"submit",block:!0},"Log in"),r.a.createElement(B.a,{type:"primary",onClick:function(){e.form.setFieldsValue({email:"demo2@user.com",password:"123456"})},block:!0},"Patch Data")))}));var ne=function(e){return e.errors?Object.keys(e.errors).map((function(t,a){return e.errors[t]&&e.errors[t].length>0?e.errors[t].map((function(e,a){return r.a.createElement("li",{className:"font-size-1",key:"".concat(t,"-").concat(e)},e)})):r.a.createElement("li",{className:"font-size-1",key:"".concat(t)},t," errors")})):r.a.createElement("li",{className:"font-size-1"},e.message)},re=function(e,t){var a={message:e.message?e.message:"Api Error",description:ne(e),duration:t,style:{width:"28rem",marginLeft:"-4rem"}};return console.log("returnData",a),a},oe=F.a.TabPane,ce=new Q.a({broadcaster:"pusher",key:"ef9bcd4ecd1038dd7de2",cluster:"ap2",forceTLS:!0}),se=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).onClickLogin=function(){var e=Y()(),t={client_id:L.a.auth.AUTH_CLIENT_ID,redirect_uri:L.a.auth.REDIRECT_URI,response_type:"code",state:e};localStorage.setItem("state_cuid",e);var a=W.a.stringify(t,{sort:!1,encode:!1}),n="".concat(L.a.BASE_URL,"/oauth/authorize?").concat(a);window.location.href=n},a.loadQrCode=function(){a.setState({loading:!0}),a.props.getQrCode().then((function(e){a.setState({qrImg:e.qr_code}),a.setState({loading:!1}),ce.channel("uniqueCode.".concat(e.channel_id)).listen(".UniqueCodeDecode",(function(e){console.log(e.uniqueCode.token.accessToken),Object(A.f)(e.uniqueCode.token),setTimeout((function(){R(),a.props.getUserProfile().then((function(){a.props.toggleAuthModel(!1)}))}),1e3)}))})).catch((function(e){a.setState({loading:!1})}))},a.handleOk=function(e){console.log(e)},a.handleCancel=function(e){console.log(e),a.props.toggleAuthModel(!1)},a.chnageViewScreen=function(e){console.log("type",e),a.setState({viewScreen:e})},a.handleSignupSubmit=function(e){console.log("Received values of Signup form: ",e),a.setState({loginLoading:!0}),a.props.userSignup(e).then((function(e){Object(A.f)(e),setTimeout((function(){R(),a.props.getUserProfile().then((function(e){a.setState({loginLoading:!1}),a.props.toggleAuthModel(!1)}))}),1e3)})).catch((function(e){a.setState({loginLoading:!1}),e.response?G.a.error(re(e.response.data,10)):e.request?console.log(e.request):console.log("Error",e.message)}))},a.handleLoginSubmit=function(e){console.log("Received values of Login form: ",e),a.setState({loginLoading:!0}),a.props.userLogin(e).then((function(e){Object(A.f)(e),setTimeout((function(){R(),a.props.getUserProfile().then((function(e){a.setState({loginLoading:!1}),a.props.toggleAuthModel(!1)}))}),1e3)})).catch((function(e){a.setState({loginLoading:!1}),e.response?G.a.error(re(e.response.data,10)):e.request?console.log(e.request):console.log("Error",e.message)}))},a.state={qrImg:"",loading:!1,viewScreen:1,loginLoading:!1,fields:{username:{value:"benjycui"},email:{value:"name@123.com"}}},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadQrCode()}},{key:"leaveAllChannel",value:function(){ce.channel("uniqueCode.*").stopListening("UniqueCodeDecode"),ce.leaveChannel("uniqueCode.*")}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{width:600,footer:!1,visible:!0,onOk:this.handleOk,onCancel:this.handleCancel,className:"site-model"},r.a.createElement("div",{className:"container"},1===this.state.viewScreen&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},r.a.createElement("h6",{className:"signup-title"},"Login Option"),r.a.createElement("button",{onClick:this.onClickLogin,type:"button",className:"btn btn-outline-primary"},"Login With Laravel Passport"),r.a.createElement("div",{className:"my-2 dropdown-divider"}),r.a.createElement("div",{className:"qr-code-area d-flex justify-content-center align-items-center"},r.a.createElement(z.a,{tip:"Loading...",spinning:this.state.loading},this.state.qrImg&&r.a.createElement("div",{className:"qr-code"},r.a.createElement("img",{alt:"qr-code",src:"data:image/jpeg;base64,".concat(this.state.qrImg)})))),r.a.createElement("button",{type:"button",className:"btn btn-primary mt-2",onClick:this.loadQrCode},"Generate New"),r.a.createElement("div",{className:"mt-3"},r.a.createElement(B.a,{onClick:function(){return e.chnageViewScreen(2)},type:"link"},"Login/Signup with mobile number and password")))),2===this.state.viewScreen&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},r.a.createElement(z.a,{spinning:this.state.loginLoading},r.a.createElement(F.a,{defaultActiveKey:"1"},r.a.createElement(oe,{tab:"Sign In",key:"1",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col-9 text-left"},r.a.createElement(ae,{onSubmit:this.handleLoginSubmit}))),r.a.createElement(oe,{tab:"Sign Up",key:"2",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col-9 text-left"},r.a.createElement(ee,{onSubmit:this.handleSignupSubmit}))))),r.a.createElement("div",{className:"mt-0"},r.a.createElement(B.a,{onClick:function(){return e.chnageViewScreen(1)},type:"link"},"Use QR Code to Login"))))))}}]),t}(n.Component),ie={getQrCode:A.a,toggleAuthModel:A.g,userLogin:A.h,userSignup:A.j,getUserProfile:A.c},le=Object(s.connect)((function(e){return{user:e.user}}),ie)(se),ue=a(188),me=r.a.createContext(),de=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).setLogged=function(e){a.setState({logged:e})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.user.isAuthenticated;return r.a.createElement(me.Provider,{value:{currentAuth:{logged:e}}},this.props.children)}}]),t}(n.Component),pe=me.Consumer,fe=function(e){var t=e.component,a=Object(ue.a)(e,["component"]);return r.a.createElement(pe,null,(function(e){var n=e.currentAuth;return r.a.createElement(r.a.Fragment,null,n.logged?r.a.createElement(m.b,Object.assign({component:t},a)):r.a.createElement(m.a,{push:!0,to:"/"}))}))};l.a.logToConsole=!1,R();var ge=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(6)]).then(a.bind(null,1495))})),he=Object(n.lazy)((function(){return a.e(7).then(a.bind(null,1494))})),be=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,1492))})),Ee=Object(n.lazy)((function(){return a.e(8).then(a.bind(null,1493))})),ve={userLogout:A.i,toggleAuthModel:A.g},Oe=Object(s.connect)((function(e){return{user:e.user}}),ve)((function(e){return r.a.createElement(u.a,{basename:"".concat("/qr-login-web")},r.a.createElement("div",{className:""},r.a.createElement(de,e,r.a.createElement(_,e),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading fallback...")},r.a.createElement("main",{role:"main"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:ge}),r.a.createElement(fe,{path:"/account",component:he}),r.a.createElement(m.b,{path:"/test-color",component:Ee}),r.a.createElement(m.b,{path:"/contest-information/:id",component:be}),r.a.createElement(m.b,{component:j})))),r.a.createElement(w,null),e.user.authModel&&r.a.createElement(le,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=P()();ye.dispatch(Object(A.d)()),c.a.render(r.a.createElement(s.Provider,{store:ye},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},1444:function(e,t,a){"use strict";a.r(t);var n=a(61),r=a(19),o=a(76),c=a(34),s=Object(c.b)(),i={user:Object.assign(s,{userList:[],userInfo:{},authModel:!1}),ajaxCallsInProgress:0,contest:{data:[],total:0,per_page:10,current_page:1,filterData:{price:{min:0,max:100},contests_type:[],organizer:[],sortArr:[{key:"execution_date",text:"Execution Date",isActive:!0,sortBy:"asc"},{key:"joining_fee",text:"Cheapest",isActive:!1,sortBy:"asc"},{key:"joined_user",text:"Availability",isActive:!1,sortBy:"asc"}]},listLoader:!1}},l=a(15);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=a(180);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.contest,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.g:return f({},e,{listLoader:!0});case l.h:return f({},e,{},t.payload,{listLoader:!1});case l.e:return f({},e,{listLoader:!1});case l.f:return f({},e,{filterData:f({},e.filterData,{},t.payload)});case l.j:return f({},e,{filterData:f({},e.filterData,{sortArr:t.payload})});case l.i:e.filterData.organizer.forEach((function(e){e.user.full_name.toUpperCase().includes(t.payload.toUpperCase())?e.visibility=1:e.visibility=0}));break;default:return e}}));var h=Object(n.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.b:return m({},e,{isAuthenticated:!0,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token,expires_in:t.payload.expires_in});case l.l:return m({},e,{isAuthenticated:!0,userInfo:t.payload});case l.m:return m({},e,{isAuthenticated:!1});case l.k:return m({},e,{userList:t.payload});case l.d:return m({},e,{authModel:t.payload});default:return e}},contest:g,ajaxCallsInProgress:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ajaxCallsInProgress,a=arguments.length>1?arguments[1]:void 0;return a.type===l.c?t+1:a.type===l.a||"_SUCCESS"===(e=a.type).substring(e.length-8)?t-1:t},loadingBar:r.loadingBarReducer}),b=a(181);function E(e){return Object(n.d)(h,e,Object(n.a)(b.a))}a.d(t,"default",(function(){return E}))},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"l",(function(){return o})),a.d(t,"m",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"g",(function(){return i})),a.d(t,"h",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return g}));var n="BEGIN_AJAX_CALL",r="AJAX_CALL_ERROR",o="USER_LOGIN_SUCCESS",c="USER_LOOUT_SUCCESS",s="USER_LIST_SUCCESS",i="LOAD_CONTEST_REQUEST",l="LOAD_CONTEST_SUCCESS",u="LOAD_CONTEST_FAILURE",m="LOAD_CONTEST_FILTER_SUCCESS",d="ORGANIZER_SEARCH_SUCCESS",p="SORT_CONTEST_SUCCESS",f="CHANGE_AUTH_MODEL_VISIBILITY",g="AUTH_TOKEN_SUCCESS"},201:function(e,t,a){e.exports=a(1443)},210:function(e,t,a){},215:function(e,t,a){},25:function(e,t,a){"use strict";var n=a(24),r=a.n(n),o=a(47),c=a(23),s=a.n(c),i=a(19),l=a(15);function u(e){return{type:l.c}}function m(){return{type:l.a}}var d=a(34),p=a(31);function f(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(u()),n={grant_type:"refresh_token",refresh_token:e,client_id:p.a.auth.AUTH_CLIENT_ID,client_secret:p.a.auth.AUTH_CLIENT_SECRET,scope:""},o={method:"POST",url:"oauth/token",headers:{"content-type":"application/json"},data:n},t.prev=3,t.next=6,s.a.request(o);case 6:return y(c=t.sent),a({type:l.b,payload:c}),t.abrupt("return",c);case 12:return t.prev=12,t.t0=t.catch(3),a(m()),t.abrupt("return",Promise.reject(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()}function g(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(i.showLoading)()),e.prev=1,e.next=4,s.a.get("/api/user");case 4:return a=e.sent,t({type:l.l,payload:a}),t(Object(i.hideLoading)()),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(1),t(Object(i.hideLoading)()),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}function h(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/api/get-qr-code");case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function b(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(i.showLoading)()),t(u()),e.prev=2,e.next=5,s.a.get("/api/user-list");case 5:return a=e.sent,t({type:l.k,payload:a}),t(Object(i.hideLoading)()),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(2),t(Object(i.hideLoading)()),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}function E(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(i.showLoading)()),t.prev=1,t.next=4,s.a.post("/api/login",e);case 4:return n=t.sent,a(Object(i.hideLoading)()),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(1),a(Object(i.hideLoading)()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function v(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(i.showLoading)()),t.prev=1,t.next=4,s.a.post("/api/register",e);case 4:return n=t.sent,a(Object(i.hideLoading)()),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(1),a(Object(i.hideLoading)()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function O(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(i.showLoading)()),e.prev=1,e.next=4,s.a.get("/api/logout");case 4:return a=e.sent,t(Object(i.hideLoading)()),t({type:l.m,payload:a}),localStorage.clear(),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),t(Object(i.hideLoading)()),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}function y(e){var t=e.access_token,a=e.expires_in,n=e.refresh_token,r=new Date;r.setSeconds(r.getSeconds()+a),Object(d.c)("expires_in",a),Object(d.c)("expires_at",r.getTime()),Object(d.c)("access_token",t),Object(d.c)("refresh_token",n)}function _(){return function(e,t){var a=Object(d.a)("expires_at"),n=Object(d.a)("access_token"),r=Object(d.a)("refresh_token");a&&n&&(new Date).getTime()<a?(console.log("onLocalLogin - authorize"),e(g())):r?(console.log("onLocalLogin - refesh token"),e(g())):(console.log("onLocalLogin - unauth"),localStorage.clear())}}function w(e){return function(t,a){t({type:l.d,payload:e})}}a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return b})),a.d(t,"h",(function(){return E})),a.d(t,"j",(function(){return v})),a.d(t,"i",(function(){return O})),a.d(t,"f",(function(){return y})),a.d(t,"d",(function(){return _})),a.d(t,"g",(function(){return w}))},31:function(e,t,a){"use strict";var n=a(76);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}console.log("process.env.REACT_APP_STAGE",Object({NODE_ENV:"production",PUBLIC_URL:"/qr-login-web",REACT_APP_BAR:"www.example.com/bar",REACT_APP_FOO:"www.example.com/foo"}));var o={s3:{BUCKET:"YOUR_PROD_S3_UPLOADS_BUCKET_NAME"},apiGateway:{REGION:"YOUR_PROD_API_GATEWAY_REGION",URL:"YOUR_PROD_API_GATEWAY_URL"},cognito:{REGION:"YOUR_PROD_COGNITO_REGION",USER_POOL_ID:"YOUR_PROD_COGNITO_USER_POOL_ID",APP_CLIENT_ID:"YOUR_PROD_COGNITO_APP_CLIENT_ID",IDENTITY_POOL_ID:"YOUR_PROD_IDENTITY_POOL_ID"},auth:{AUTH_CLIENT_ID:3,AUTH_CLIENT_SECRET:"2UItr62OLvEBfvuCLP396VpK9S1jVSgmXoksh2x0",REDIRECT_URI:"https://hiren-ghodasara.github.io/qr-login-web/auth-callback.html"},BASE_URL:"http://qr-login-backend.initcode.in"};t.a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({MAX_ATTACHMENT_SIZE:5e6,TIMEOUT:6e4},o)},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var n=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return t}catch(a){return}},r=function(e,t){try{localStorage.setItem(e,t)}catch(a){}},o=function(){try{var e=n("expires_in"),t=n("expires_at"),a=n("access_token");return console.log("new Date().getTime() < expires_at",(new Date).getTime()<t),e&&a&&(new Date).getTime()<t?{isAuthenticated:!0}:{isAuthenticated:!1}}catch(r){return{isAuthenticated:!1}}}}},[[201,2,3]]]);
//# sourceMappingURL=main.db2287fa.chunk.js.map