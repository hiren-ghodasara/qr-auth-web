{"version":3,"sources":["actions/contestActions.js","components/LandingPage.jsx"],"names":["listAllContest","filter","params","dispatch","a","showLoading","type","types","axios","post","res","payload","hideLoading","Promise","reject","Panel","CheckboxGroup","Group","Countdown","formatter","value","filterHeader","className","getColor","T","J","percent","Number","parseFloat","toFixed","PriceRange","props","filterData","onAfterChangePrice","onChangePrice","tipFormatter","min","price","max","range","onAfterChange","onChange","ContestSort","sortArr","onChangeSort","map","item","index","onClick","key","isActive","text","sortBy","ContestCountdown","date","moment","utc","execution_date","local","duration","diff","Date","deadline","now","asMilliseconds","styleClass","asHours","format","LandingPage","chnagePagination","page","pageSize","appliedfilter","onShowSizeChange","current","per_page","checkedValues","onChangeContestType","contests_type","onChangeOrganizer","organizer","Arr","newList","chnageSorting","currentSort","find","x","sort","by","onClearFilter","contestList","onSearchOrganizer","e","target","searchOrganizer","demoCreated","testCreate","current_page","console","log","r","SortVal","debounce","this","listAllFilter","data","total","listLoader","size","bordered","defaultActiveKey","expandIconPosition","header","id","name","placeholder","d","visibility","user","full_name","spinning","length","to","src","config","BASE_URL","photo","alt","avatar_location","created_at","joining_fee","description","joined_user","max_user","status","title","subTitle","showSizeChanger","defaultCurrent","Component","mapDispatchToProps","get","val","connect","state","contest"],"mappings":"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","file":"static/js/6.27c65aa2.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\r\nimport * as types from \"./actionTypes\";\r\nimport moment from \"moment\";\r\n\r\nexport function listAllContest(filter) {\r\n  const params = {\r\n    ...filter\r\n  };\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    dispatch({ type: types.LOAD_CONTEST_REQUEST});\r\n    try {\r\n      const res = await axios.post(\"/api/get-all-contest\", params);\r\n      dispatch({ type: types.LOAD_CONTEST_SUCCESS, payload: res });\r\n      dispatch(hideLoading());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch({ type: types.LOAD_CONTEST_FAILURE});\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function testCreate() {\r\n  const params = {\r\n    execution_date: moment()\r\n  };\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    try {\r\n      const res = await axios.post(\"/api/test-create\", params);\r\n      dispatch(hideLoading());\r\n      dispatch(listAllContest());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function listAllFilter() {\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    try {\r\n      const res = await axios.get(\"/api/get-all-filters\");\r\n      dispatch({ type: types.LOAD_CONTEST_FILTER_SUCCESS, payload: res });\r\n      dispatch(hideLoading());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function searchOrganizer(val) {\r\n  console.log(\"val-----\", val);\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: types.ORGANIZER_SEARCH_SUCCESS, payload: val });\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function chnageSorting(val) {\r\n  console.log(\"chnageSorting-----\", val);\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: types.SORT_CONTEST_SUCCESS, payload: val });\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Collapse,\r\n  Slider,\r\n  Pagination,\r\n  Progress,\r\n  Checkbox,\r\n  Input,\r\n  Button,\r\n  Statistic,\r\n  Spin,\r\n  Result\r\n} from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport debounce from \"lodash/debounce\";\r\nimport {\r\n  listAllContest,\r\n  listAllFilter,\r\n  searchOrganizer,\r\n  chnageSorting,\r\n  testCreate\r\n} from \"../actions/contestActions\";\r\nimport config from \"../config\";\r\nimport moment from \"moment\";\r\nconst { Panel } = Collapse;\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Countdown } = Statistic;\r\nconst formatter = value => {\r\n  return `${value}%`;\r\n};\r\nconst filterHeader = value => (\r\n  <div className=\"text-secondary mb-0 font-weight-bold\">{value}</div>\r\n);\r\n\r\nconst getColor = (T, J) => {\r\n  const percent = Number.parseFloat(((J * 100) / T).toFixed(2));\r\n  if (T === J) {\r\n    return `success`;\r\n  } else if (percent > 70) {\r\n    return `exception`;\r\n  } else {\r\n    return `normal`;\r\n  }\r\n};\r\n\r\nconst PriceRange = props => {\r\n  const { filterData, onAfterChangePrice, onChangePrice, value } = props;\r\n  return (\r\n    <Slider\r\n      tipFormatter={formatter}\r\n      min={filterData.price.min}\r\n      max={filterData.price.max}\r\n      range\r\n      onAfterChange={onAfterChangePrice}\r\n      onChange={onChangePrice}\r\n      //defaultValue={value}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nconst ContestSort = props => {\r\n  const { sortArr, onChangeSort } = props;\r\n  return (\r\n    <div className=\"row m-0 sort-area\">\r\n      {sortArr.map((item, index) => (\r\n        <div\r\n          onClick={() => onChangeSort(sortArr, item)}\r\n          key={index}\r\n          className={`col-sm ${\r\n            item.isActive ? \"active text-white\" : \"\"\r\n          } filter-sort border d-flex align-items-center justify-content-center`}\r\n        >\r\n          {item.text}{\" \"}\r\n          {item.isActive &&\r\n            (item.sortBy === \"asc\" ? (\r\n              <i className=\"ml-2 fas fa-sort-up\"></i>\r\n            ) : (\r\n              <i className=\"ml-2 fas fa-sort-down\"></i>\r\n            ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// eslint-disable-next-line\r\nconst DemoCountdown = value => {\r\n  const test = moment(value.props.value).format(\r\n    \"D [days,] HH [hours,] mm [minutes and] ss [seconds]\"\r\n  );\r\n  return <h1>{test}</h1>;\r\n};\r\n\r\nconst ContestCountdown = props => {\r\n  //let date = moment(props.execution_date);\r\n  const date = moment.utc(props.execution_date).local();\r\n  const duration = moment.duration(date.diff(moment(new Date())));\r\n  const deadline = Date.now() + duration.asMilliseconds();\r\n  let styleClass = \"\";\r\n  if (duration.asHours() < 24) {\r\n    styleClass = \"red\";\r\n  }\r\n  // const deadline = Date.now() + duration; //9 days, 23 hours, 59 minutes and 29 seconds\r\n  return (\r\n    <Countdown\r\n      className={styleClass}\r\n      value={deadline}\r\n      format={`H[h]:mm[m]:ss[s]`}\r\n    />\r\n  );\r\n};\r\n\r\nclass LandingPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { per_page, current_page, filterData } = this.props.contestList;\r\n    console.log(\r\n      \"filterData.sortArr.filter(r => !r.isActive)\",\r\n      filterData.sortArr.find(r => r.isActive)\r\n    );\r\n    const SortVal = filterData.sortArr.find(r => r.isActive);\r\n    this.appliedfilter = {\r\n      page: current_page,\r\n      per_page: per_page,\r\n      price: [filterData.price.min, filterData.price.max],\r\n      contests_type: [],\r\n      organizer: [],\r\n      sort: { key: SortVal.key, by: SortVal.sortBy }\r\n    };\r\n    this.searchOrganizer = debounce(this.props.searchOrganizer, 300);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.listAllFilter();\r\n    this.props.listAllContest(this.appliedfilter);\r\n  }\r\n\r\n  chnagePagination = (page, pageSize) => {\r\n    this.appliedfilter = { ...this.appliedfilter, page: page };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onShowSizeChange = (current, pageSize) => {\r\n    this.appliedfilter = { ...this.appliedfilter, per_page: pageSize };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangePrice = checkedValues => {\r\n    this.appliedfilter = {\r\n      ...this.appliedfilter,\r\n      price: checkedValues,\r\n      page: 1\r\n    };\r\n  };\r\n\r\n  onAfterChangePrice = checkedValues => {\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeContestType = checkedValues => {\r\n    this.appliedfilter = {\r\n      ...this.appliedfilter,\r\n      contests_type: checkedValues,\r\n      page: 1\r\n    };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeOrganizer = checkedValues => {\r\n    this.appliedfilter = {\r\n      ...this.appliedfilter,\r\n      organizer: checkedValues,\r\n      page: 1\r\n    };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeSort = (Arr, checkedValues) => {\r\n    const newList = Arr.map(item => {\r\n      if (item.key === checkedValues.key) {\r\n        if (checkedValues.isActive) {\r\n          if (checkedValues.sortBy === \"asc\") {\r\n            return { ...item, isActive: true, sortBy: \"desc\" };\r\n          } else {\r\n            return { ...item, isActive: true, sortBy: \"asc\" };\r\n          }\r\n        } else {\r\n          return { ...item, isActive: true, sortBy: \"asc\" };\r\n        }\r\n      } else {\r\n        return { ...item, isActive: false };\r\n      }\r\n    });\r\n    this.props.chnageSorting(newList);\r\n    const currentSort = newList.find(x => x.key === checkedValues.key);\r\n    this.appliedfilter = {\r\n      ...this.appliedfilter,\r\n      sort: { key: currentSort.key, by: currentSort.sortBy },\r\n      page: 1\r\n    };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onClearFilter = () => {\r\n    const { filterData } = this.props.contestList;\r\n    this.appliedfilter = {\r\n      ...this.appliedfilter,\r\n      price: [filterData.price.min, filterData.price.max],\r\n      contests_type: [],\r\n      organizer: [],\r\n      page: 1\r\n    };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onSearchOrganizer = e => {\r\n    const { value } = e.target;\r\n    this.searchOrganizer(value);\r\n  };\r\n\r\n  demoCreated = () => {\r\n    this.props.testCreate();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      total,\r\n      per_page,\r\n      current_page,\r\n      filterData,\r\n      listLoader\r\n    } = this.props.contestList;\r\n    return (\r\n      <div className=\"bg-light section\">\r\n        <div className=\"container-fluid py-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body px-3 py-0\">\r\n                  <div className=\"row  px-4 py-2 border-bottom\">\r\n                    <div className=\"col-8\">\r\n                      <p className=\"h6 font-weight-bold\">Refine Results</p>\r\n                      <p>\r\n                        Showing {per_page} Of {total} Buses\r\n                      </p>\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        onClick={this.demoCreated}\r\n                      >\r\n                        Demo Contest\r\n                      </Button>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <Button type=\"link\" onClick={this.onClearFilter}>\r\n                        Clear All\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <Collapse\r\n                      bordered={false}\r\n                      defaultActiveKey={[\"1\", \"2\"]}\r\n                      expandIconPosition={`right`}\r\n                      className=\"w-100\"\r\n                    >\r\n                      <Panel header={filterHeader(`Price`)} key=\"1\">\r\n                        <PriceRange\r\n                          filterData={filterData}\r\n                          onChangePrice={this.onChangePrice}\r\n                          onAfterChangePrice={this.onAfterChangePrice}\r\n                          value={this.appliedfilter.price}\r\n                        />\r\n                      </Panel>\r\n                      <Panel header={filterHeader(`Contest Type`)} key=\"2\">\r\n                        <CheckboxGroup\r\n                          onChange={this.onChangeContestType}\r\n                          value={this.appliedfilter.contests_type}\r\n                        >\r\n                          {filterData.contests_type.map((item, index) => (\r\n                            <div key={index}>\r\n                              <Checkbox value={item.id}>{item.name}</Checkbox>\r\n                            </div>\r\n                          ))}\r\n                        </CheckboxGroup>\r\n                      </Panel>\r\n                      <Panel header={filterHeader(`Organizer`)} key=\"3\">\r\n                        <Input\r\n                          onChange={this.onSearchOrganizer}\r\n                          size=\"small\"\r\n                          placeholder=\"Search Organizer\"\r\n                          className=\"mb-2 border\"\r\n                        />\r\n                        <CheckboxGroup\r\n                          onChange={this.onChangeOrganizer}\r\n                          value={this.appliedfilter.organizer}\r\n                        >\r\n                          {filterData.organizer\r\n                            .filter(d => d.visibility)\r\n                            .map((item, index) => (\r\n                              <div key={index}>\r\n                                <Checkbox value={item.user.id}>\r\n                                  {item.user.full_name}{\" \"}\r\n                                  <span>{item.total}</span>\r\n                                </Checkbox>\r\n                              </div>\r\n                            ))}\r\n                        </CheckboxGroup>\r\n                      </Panel>\r\n                    </Collapse>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-9\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body p-0\">\r\n                  <ContestSort\r\n                    {...filterData}\r\n                    onChangeSort={this.onChangeSort}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Spin spinning={listLoader}>\r\n                <div className=\"mt-2 contest-result\">\r\n                  {data &&\r\n                    data.length > 0 &&\r\n                    data.map((item, index) => (\r\n                      <div className=\"card mt-2\" key={index}>\r\n                        <div className=\"card-body\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-md-auto\">\r\n                              <div className=\"h4 mb-1\">\r\n                                <Link\r\n                                  className=\"text-capitalize\"\r\n                                  to={`/contest-information/${item.id}`}\r\n                                >\r\n                                  {item.name}\r\n                                </Link>\r\n                              </div>\r\n                              {/* <p className=\"h5 text-capitalize\">{item.name}</p> */}\r\n                              <img\r\n                                src={`${config.BASE_URL}/${item.photo}`}\r\n                                className=\"img-fluid contest-photo img-thumbnail\"\r\n                                alt={item.name}\r\n                              />\r\n                              <div className=\"media align-items-center mt-3\">\r\n                                <div className=\"u-avatar mr-2\">\r\n                                  <img\r\n                                    className=\"img-fluid rounded-circle\"\r\n                                    src={`${config.BASE_URL}/storage/${item.user.avatar_location}`}\r\n                                    alt={item.user.avatar_location}\r\n                                  />\r\n                                </div>\r\n                                <div className=\"media-body\">\r\n                                  <small className=\"d-block text-muted\">\r\n                                    Listed on {item.created_at} by\r\n                                  </small>\r\n                                  <span className=\"d-block\">\r\n                                    {item.user.full_name}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                              <div className=\"h5 font-weight-bold\">\r\n                                <i className=\"fas fa-rupee-sign\"></i>\r\n                                {item.joining_fee}\r\n                              </div>\r\n                              <p className=\"text-justify font-size-1\">\r\n                                {item.description}\r\n                              </p>\r\n                              <Progress\r\n                                size=\"small\"\r\n                                format={percent =>\r\n                                  `${item.joined_user}/${item.max_user}`\r\n                                }\r\n                                status={getColor(\r\n                                  item.max_user,\r\n                                  item.joined_user\r\n                                )}\r\n                                percent={\r\n                                  (item.joined_user * 100) / item.max_user\r\n                                }\r\n                                //status=\"active\"\r\n                              />\r\n                              <ContestCountdown\r\n                                execution_date={item.execution_date}\r\n                              />\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-outline-primary\"\r\n                              >\r\n                                Join\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* <div className=\"card-footer border-top-0 d-flex justify-content-end\">\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-outline-primary\"\r\n                          >\r\n                            Join\r\n                          </button>\r\n                        </div> */}\r\n                      </div>\r\n                    ))}\r\n                  {!listLoader && data && data.length === 0 && (\r\n                    <div className=\"card\">\r\n                      <Result\r\n                        title=\"No search results found\"\r\n                        subTitle=\"Try other keyword to search!\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Spin>\r\n              <div className=\"mt-2\">\r\n                <Pagination\r\n                  showSizeChanger\r\n                  onShowSizeChange={this.onShowSizeChange}\r\n                  defaultCurrent={current_page}\r\n                  total={total}\r\n                  pageSize={per_page}\r\n                  onChange={this.chnagePagination}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  contestList: state.contest\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  listAllContest,\r\n  listAllFilter,\r\n  searchOrganizer,\r\n  chnageSorting,\r\n  testCreate\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage);\r\n"],"sourceRoot":""}