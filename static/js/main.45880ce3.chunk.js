(window["webpackJsonpqr-auth-web"]=window["webpackJsonpqr-auth-web"]||[]).push([[2],{107:function(e,t,a){e.exports=a(1445)},14:function(e,t,a){"use strict";a.d(t,"o",(function(){return n})),a.d(t,"p",(function(){return r})),a.d(t,"n",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"j",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"i",(function(){return p})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"m",(function(){return g})),a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return E}));var n="USER_LOGIN_SUCCESS",r="USER_LOOUT_SUCCESS",o="USER_LIST_SUCCESS",c="LOAD_API_TOKENS_SUCCESS",s="DELETE_API_TOKENS_SUCCESS",i="LOAD_TRANSACTION_SUCCESS",l="LOAD_PAYMENT_METHOD_SUCCESS",u="CREATE_PAYMENT_METHOD_SUCCESS",m="LOAD_CONTEST_REQUEST",p="LOAD_CONTEST_SUCCESS",d="LOAD_CONTEST_FAILURE",f="LOAD_CONTEST_FILTER_SUCCESS",b="ORGANIZER_SEARCH_SUCCESS",g="SORT_CONTEST_SUCCESS",h="CHANGE_AUTH_MODEL_VISIBILITY",E="AUTH_TOKEN_SUCCESS"},1444:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=a(43),i=(a(223),a(180)),l=a.n(i),u=a(71),m=a(58),p=(a(228),a(23)),d=a.n(p),f=a(31),b=a(32),g=a(107),h=a.n(g),E=a(25),O=h()(),y=!1,v=[],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v.forEach((function(a){e?a.reject(e):a.resolve(t)})),v=[]};function j(){d.a.defaults.timeout=f.a.TIMEOUT,d.a.defaults.baseURL=f.a.BASE_URL;var e=Object(b.a)("access_token");e&&(d.a.defaults.headers.common.Authorization="Bearer ".concat(e),d.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"),d.a.interceptors.response.use(w,N)}var w=function(e){return e&&e.data?e.data:e},N=function(e){if(console.log("Axios onResponseError",e.response),!e.response)return Promise.reject(e);if(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),401!==e.response.status)return Promise.reject(e);var t="".concat(e.config.baseURL,"/oauth/token");if(e.config.url===t||"Account is disabled."===e.response.message)return localStorage.clear(),window.location.href="/qr-login-web",Promise.reject(e);var a=e.config;if(401===e.response.status){if(a._retry)return localStorage.clear(),window.location.href="/qr-login-web",Promise.reject(e);if(y)return new Promise((function(e,t){v.push({resolve:e,reject:t})})).then((function(e){return a.headers.Authorization="Bearer "+e,d()(a)})).catch((function(e){return Promise.reject(e)}));a._retry=!0,y=!0;var n=Object(b.a)("refresh_token");return O.dispatch(Object(E.d)(n)).then((function(e){var t="Bearer ".concat(e.access_token);return a.headers.Authorization=t,_(null,e.access_token),d()(a)})).catch((function(e){return localStorage.clear(),window.location.href="/",_(e,null),Promise.reject(e)})).finally((function(e){y=!1,j()}))}},S=(a(194),a(144)),P=(a(201),a(9)),C=(a(202),a(106)),L=a(83),A=a(84),k=a(87),T=a(85),D=a(88),R=a(18),I=a.n(R),x=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleMenuClick=function(e){"logout"===e.key&&a.props.userLogout().then((function(e){window.location.href="/qr-login-web"}))},a}return Object(D.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;console.log("this.props",this.props);var t=r.a.createElement(C.a,{onClick:this.handleMenuClick},r.a.createElement(C.a.Item,{key:"account"},r.a.createElement(u.b,{to:"/account"},"My Account")),r.a.createElement(C.a.Item,{key:"logout"},"Logout")),a=this.props.user.isAuthenticated;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",width:"100%",zIndex:"10"}},r.a.createElement(I.a,{className:"loading"})),r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-white py-0"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{className:"align-text-bottom",src:"".concat("/qr-login-web","/assets/images/logo.png"),alt:"Last"}),r.a.createElement("span",{className:"text-primary h1 font-weight-bold"},"Last")),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},!a&&r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.props.toggleAuthModel(!0)}},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Login/Sinup"),a&&r.a.createElement(S.a,{overlay:t,trigger:["click"]},r.a.createElement("a",{className:"nav-link"},this.props.user.userInfo.full_name," ",r.a.createElement(P.a,{type:"down"}))))))))))}}]),t}(n.Component),U=function(e){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container py-5 my-3"},r.a.createElement("div",{className:"row justify-content-md-between"},r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-3 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"About"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Team")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Locations")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Privacy")))),r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-3 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"Features"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Cool stuff")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Random feature")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Team feature")))),r.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-2 mb-4 mb-lg-0"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"Resources"),r.a.createElement("ul",{className:"list-group list-group-borderless"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Resource")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Resource name")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{className:"text-muted",href:"#foo"},"Another resource")))),r.a.createElement("div",{className:"col-md-7 col-lg-4"},r.a.createElement("h6",{className:"h6 font-weight-semi-bold"},"We are driven to deliver results for all your businesses."),r.a.createElement("button",{type:"button",className:"btn btn-dark border-0 text-left mb-2 mr-1"},r.a.createElement("span",{className:"media align-items-center"},r.a.createElement("span",{className:"fab fa-apple fa-2x mr-3"}),r.a.createElement("span",{className:"media-body"},r.a.createElement("span",{className:"d-block small"},"Download on the"),r.a.createElement("strong",{className:"font-size-1"},"App Store")))),r.a.createElement("button",{type:"button",className:"btn btn-dark border-0 text-left mb-2"},r.a.createElement("span",{className:"media align-items-center"},r.a.createElement("span",{className:"fab fa-google-play fa-2x mr-3"}),r.a.createElement("span",{className:"media-body"},r.a.createElement("span",{className:"d-block small"},"Get it on"),r.a.createElement("strong",{className:"font-size-1"},"Google Play"))))))),r.a.createElement("div",{className:"container-fluid border-top py-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"mb-3",href:"index.html"},r.a.createElement("img",{className:"align-text-bottom",src:"assets/images/logo.png",alt:"Last"}),r.a.createElement("span",{className:"text-primary h1 font-weight-bold"},"Last")),r.a.createElement("p",{className:"small text-muted mb-2"},"\xa9 LastHope. 2018 MarvisDesign. All rights reserved."))))},q=(a(205),a(177)),M=(a(195),a(147)),B=(a(306),a(140)),z=(a(308),a(141)),G=a(184),Y=(a(74),a(20)),F=(a(142),a(48)),H=(a(149),a(57)),Q=a(112),W=a.n(Q),K=H.a.Item,V=H.a.create({name:"signup_form"})((function(e){var t=e.form.getFieldDecorator;return console.log("in",new Date),r.a.createElement(H.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||e.onSubmit(a)}))}},r.a.createElement(K,{className:"mb-0"},t("first_name",{rules:[{required:!0,message:"First Name is required!"}]})(r.a.createElement(F.a,{placeholder:"First Name"}))),r.a.createElement(K,{className:"mb-0"},t("last_name",{rules:[{required:!0,message:"Last Name is required!"}]})(r.a.createElement(F.a,{placeholder:"Last Name"}))),r.a.createElement(K,{className:"mb-0"},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Email is required!"}]})(r.a.createElement(F.a,{placeholder:"Email"}))),r.a.createElement(K,{className:"mb-0"},t("password",{rules:[{required:!0,message:"Password is required!"}]})(r.a.createElement(F.a,{type:"password",placeholder:"Password"}))),r.a.createElement(K,{className:"mb-0"},t("password_confirmation",{rules:[{required:!0,message:"Password Confirmation is required!"},{validator:function(t,a,n){var r=e.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()}}]})(r.a.createElement(F.a,{type:"password",placeholder:"Password Confirmation"}))),r.a.createElement(K,{className:"mt-3"},r.a.createElement(Y.a,{type:"primary",htmlType:"submit",block:!0},"Sign Up"),r.a.createElement(Y.a,{type:"primary",onClick:function(){e.form.setFieldsValue({first_name:W.a.name.firstName(),last_name:W.a.name.firstName(),email:W.a.internet.email(),password:"12345",password_confirmation:"12345"})},block:!0},"Patch Data")))})),J=H.a.Item,X=H.a.create({name:"login_form"})((function(e){var t=e.form.getFieldDecorator;return r.a.createElement(H.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||e.onSubmit(a)}))}},r.a.createElement(J,{className:"mb-0"},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your email!"}]})(r.a.createElement(F.a,{placeholder:"E-mail Address"}))),r.a.createElement(J,{className:"mb-0"},t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(F.a,{type:"password",placeholder:"Password"}))),r.a.createElement(J,{className:"mt-3"},r.a.createElement(Y.a,{type:"primary",htmlType:"submit",block:!0},"Log in"),r.a.createElement(Y.a,{type:"primary",onClick:function(){e.form.setFieldsValue({email:"demo2@user.com",password:"123456"})},block:!0},"Patch Data")))}));var Z=function(e){return e.errors?Object.keys(e.errors).map((function(t,a){return e.errors[t]&&e.errors[t].length>0?e.errors[t].map((function(e,a){return r.a.createElement("li",{className:"font-size-1",key:"".concat(t,"-").concat(e)},e)})):r.a.createElement("li",{className:"font-size-1",key:"".concat(t)},t," errors")})):r.a.createElement("li",{className:"font-size-1"},e.message)},$=function(e,t){var a={message:e.message?e.message:"Api Error",description:Z(e),duration:t,style:{width:"28rem",marginLeft:"-4rem"}};return console.log("returnData",a),a},ee=a(188),te=a.n(ee),ae=a(189),ne=a.n(ae),re=function(e){return r.a.createElement("button",{onClick:function(){var e=te()(),t={client_id:f.a.auth.AUTH_CLIENT_ID,redirect_uri:f.a.auth.REDIRECT_URI,response_type:"code",state:e};localStorage.setItem("state_cuid",e);var a=ne.a.stringify(t,{sort:!1,encode:!1}),n="".concat(f.a.BASE_URL,"/oauth/authorize?").concat(a);window.location.href=n},type:"button",className:"btn btn-outline-primary"},"Login With Laravel Passport")},oe=function(e){return console.log("LoginCode props",e),r.a.createElement("div",{className:"row d-flex align-items-center flex-column"},r.a.createElement("div",{className:"qr-code-area"},e.qrImg&&r.a.createElement("div",{className:"qr-code"},r.a.createElement("img",{alt:"qr-code",src:"data:image/jpeg;base64,".concat(e.qrImg)}))),r.a.createElement("button",{type:"button",className:"btn btn-primary mt-2",onClick:e.loadQrCode},"Generate New"))},ce=z.a.TabPane,se=new G.a({broadcaster:"pusher",key:"ef9bcd4ecd1038dd7de2",cluster:"ap2",forceTLS:!0}),ie=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(k.a)(this,Object(T.a)(t).call(this,e))).loadQrCode=function(){a.setState({loginLoading:!0}),a.props.getQrCode().then((function(e){a.setState({qrImg:e.qr_code}),a.setState({loginLoading:!1}),se.channel("uniqueCode.".concat(e.channel_id)).listen(".UniqueCodeDecode",(function(e){console.log(e.uniqueCode.token.accessToken),Object(E.e)(e.uniqueCode.token),setTimeout((function(){j(),a.props.getUserProfile().then((function(){a.props.toggleAuthModel(!1)}))}),1e3)}))})).catch((function(e){a.setState({loginLoading:!1})}))},a.handleCancel=function(e){console.log(e),a.props.toggleAuthModel(!1)},a.handleSignupSubmit=function(e){a.setState({loginLoading:!0}),a.props.userSignup(e).then((function(e){Object(E.e)(e),setTimeout((function(){j(),a.props.getUserProfile().then((function(){a.setState({loginLoading:!1}),a.props.toggleAuthModel(!1)}))}),1e3)})).catch((function(e){a.setState({loginLoading:!1}),e.response&&B.a.error($(e.response.data,10))}))},a.handleLoginSubmit=function(e){a.setState({loginLoading:!0}),a.props.userLogin(e).then((function(e){Object(E.e)(e),setTimeout((function(){j(),a.props.getUserProfile().then((function(){a.setState({loginLoading:!1}),a.props.toggleAuthModel(!1)}))}),300)})).catch((function(e){a.setState({loginLoading:!1}),e.response&&B.a.error($(e.response.data,10))}))},a.state={qrImg:"",loginLoading:!1},a}return Object(D.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.loadQrCode()}},{key:"leaveAllChannel",value:function(){se.channel("uniqueCode.*").stopListening("UniqueCodeDecode"),se.leaveChannel("uniqueCode.*")}},{key:"render",value:function(){return r.a.createElement(q.a,{width:600,footer:!1,visible:!0,onCancel:this.handleCancel,className:"site-model"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},r.a.createElement(M.a,{spinning:this.state.loginLoading},r.a.createElement(z.a,{defaultActiveKey:"1"},r.a.createElement(ce,{tab:"QR Code",key:"1",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col"},r.a.createElement(oe,Object.assign({},this.state,{loadQrCode:this.loadQrCode})))),r.a.createElement(ce,{tab:"OAuth Option",key:"2",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col"},r.a.createElement(re,null))),r.a.createElement(ce,{tab:"Sign In",key:"3",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col-9 text-left"},r.a.createElement(X,{onSubmit:this.handleLoginSubmit}))),r.a.createElement(ce,{tab:"Sign Up",key:"4",className:"d-flex justify-content-center"},r.a.createElement("div",{className:"col-9 text-left"},r.a.createElement(V,{onSubmit:this.handleSignupSubmit})))))))))}}]),t}(n.Component),le={getQrCode:E.a,toggleAuthModel:E.f,userLogin:E.g,userSignup:E.i,getUserProfile:E.b},ue=Object(s.connect)((function(e){return{user:e.user}}),le)(ie),me=a(190),pe=Object(s.connect)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated,n=Object(me.a)(e,["component","isAuthenticated"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{push:!0,to:"/"})}}))}));l.a.logToConsole=!1,j();var de=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(6),a.e(8)]).then(a.bind(null,1573))})),fe=Object(n.lazy)((function(){return a.e(9).then(a.bind(null,1569))})),be=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(5),a.e(10)]).then(a.bind(null,1572))})),ge=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(7)]).then(a.bind(null,1570))})),he=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,1571))})),Ee={userLogout:E.h,toggleAuthModel:E.f},Oe=Object(s.connect)((function(e){return{user:e.userReducer}}),Ee)((function(e){return r.a.createElement(u.a,{basename:"".concat("/qr-login-web")},r.a.createElement("div",{className:""},r.a.createElement(x,e),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading fallback...")},r.a.createElement("main",{role:"main"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:de}),r.a.createElement(pe,{path:"/account",component:be}),r.a.createElement(m.b,{path:"/test-color",component:he}),r.a.createElement(m.b,{path:"/contest-information/:id",component:ge}),r.a.createElement(m.b,{component:fe})))),r.a.createElement(U,null),e.user.authModel&&r.a.createElement(ue,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=h()();ye.dispatch(Object(E.c)()),c.a.render(r.a.createElement(s.Provider,{store:ye},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},1445:function(e,t,a){"use strict";a.r(t);var n=a(63),r=a(18),o=a(37),c=a(32),s=Object(c.b)(),i={user:Object.assign(s,{userList:[],userInfo:{balance:0},authModel:!1}),contest:{data:[],total:0,per_page:10,current_page:1,filterData:{price:{min:0,max:100},contests_type:[],organizer:[],sortArr:[{key:"execution_date",text:"Execution Date",isActive:!0,sortBy:"asc"},{key:"joining_fee",text:"Cheapest",isActive:!1,sortBy:"asc"},{key:"joined_user",text:"Availability",isActive:!1,sortBy:"asc"}]},listLoader:!1},apiToken:{tokens:[]},transaction:{list:[]},paymentMethod:{list:[]}},l=a(14);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=a(55);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.contest,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:return f({},e,{listLoader:!0});case l.i:return f({},e,{},t.payload,{listLoader:!1});case l.f:return f({},e,{listLoader:!1});case l.g:return f({},e,{filterData:f({},e.filterData,{},t.payload)});case l.m:return f({},e,{filterData:f({},e.filterData,{sortArr:t.payload})});case l.l:e.filterData.organizer.forEach((function(e){e.user.full_name.toUpperCase().includes(t.payload.toUpperCase())?e.visibility=1:e.visibility=0}));break;default:return e}}));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.apiToken,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.e:return h({},e,{tokens:t.payload});case l.d:return h({},e,{tokens:e.tokens.filter((function(e){return e.id!==t.payload}))});default:return e}}));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.transaction,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:return y({},e,{list:t.payload});default:return e}}));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.transaction,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.j:return j({},e,{list:t.payload});default:return e}})),N=Object(n.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:return m({},e,{isAuthenticated:!0,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token,expires_in:t.payload.expires_in});case l.o:return m({},e,{isAuthenticated:!0,userInfo:t.payload});case l.p:return m({},e,{isAuthenticated:!1});case l.n:return m({},e,{userList:t.payload});case l.b:return m({},e,{authModel:t.payload});default:return e}},contest:b,apiTokenReducer:E,transactionReducer:v,paymentMethodReducer:w,loadingBar:r.loadingBarReducer}),S=a(181);function P(e){return Object(n.d)(N,e,Object(n.a)(S.a))}a.d(t,"default",(function(){return P}))},214:function(e,t,a){e.exports=a(1444)},223:function(e,t,a){},228:function(e,t,a){},25:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"i",(function(){return g})),a.d(t,"h",(function(){return h})),a.d(t,"e",(function(){return E})),a.d(t,"c",(function(){return O})),a.d(t,"f",(function(){return y}));var n=a(24),r=a.n(n),o=a(47),c=a(23),s=a.n(c),i=a(18),l=a(14),u=a(32),m=a(31);function p(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={grant_type:"refresh_token",refresh_token:e,client_id:m.a.auth.AUTH_CLIENT_ID,client_secret:m.a.auth.AUTH_CLIENT_SECRET,scope:""},o={method:"POST",url:"oauth/token",headers:{"content-type":"application/json"},data:n},t.prev=2,t.next=5,s.a.request(o);case 5:return E(c=t.sent),a({type:l.a,payload:c}),t.abrupt("return",c);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}function d(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(i.showLoading)()),e.prev=1,e.next=4,s.a.get("/api/user");case 4:return a=e.sent,t({type:l.o,payload:a}),t(Object(i.hideLoading)()),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(1),t(Object(i.hideLoading)()),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}function f(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/api/get-qr-code");case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function b(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(i.showLoading)()),t.prev=1,t.next=4,s.a.post("/api/login",e);case 4:return n=t.sent,a(Object(i.hideLoading)()),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(1),a(Object(i.hideLoading)()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function g(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(i.showLoading)()),t.prev=1,t.next=4,s.a.post("/api/register",e);case 4:return n=t.sent,a(Object(i.hideLoading)()),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(1),a(Object(i.hideLoading)()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function h(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(i.showLoading)()),e.prev=1,e.next=4,s.a.get("/api/logout");case 4:return a=e.sent,t(Object(i.hideLoading)()),t({type:l.p,payload:a}),localStorage.clear(),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),t(Object(i.hideLoading)()),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}function E(e){var t=e.access_token,a=e.expires_in,n=e.refresh_token,r=new Date;r.setSeconds(r.getSeconds()+a),Object(u.c)("expires_in",a),Object(u.c)("expires_at",r.getTime()),Object(u.c)("access_token",t),Object(u.c)("refresh_token",n)}function O(){return function(e,t){var a=Object(u.a)("expires_at"),n=Object(u.a)("access_token"),r=Object(u.a)("refresh_token");a&&n&&(new Date).getTime()<a?(console.log("onLocalLogin - authorize"),e(d())):r?(console.log("onLocalLogin - refesh token"),e(d())):(console.log("onLocalLogin - unauth"),localStorage.clear())}}function y(e){return function(t,a){t({type:l.b,payload:e})}}},31:function(e,t,a){"use strict";var n=a(37);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}console.log("process.env.REACT_APP_STAGE",Object({NODE_ENV:"production",PUBLIC_URL:"/qr-login-web",REACT_APP_BAR:"www.example.com/bar",REACT_APP_FOO:"www.example.com/foo"}));var o={s3:{BUCKET:"YOUR_PROD_S3_UPLOADS_BUCKET_NAME"},apiGateway:{REGION:"YOUR_PROD_API_GATEWAY_REGION",URL:"YOUR_PROD_API_GATEWAY_URL"},cognito:{REGION:"YOUR_PROD_COGNITO_REGION",USER_POOL_ID:"YOUR_PROD_COGNITO_USER_POOL_ID",APP_CLIENT_ID:"YOUR_PROD_COGNITO_APP_CLIENT_ID",IDENTITY_POOL_ID:"YOUR_PROD_IDENTITY_POOL_ID"},auth:{AUTH_CLIENT_ID:2,AUTH_CLIENT_SECRET:"JOAqCa9R5QybMJB13YsjjwyfmCCBpO6u0OAZ0haA",REDIRECT_URI:"https://hiren-ghodasara.github.io/qr-login-web/auth-callback.html"},BASE_URL:"http://qr-login-backend.initcode.in"};t.a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({MAX_ATTACHMENT_SIZE:5e6,TIMEOUT:6e4},o)},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var n=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return t}catch(a){return}},r=function(e,t){try{localStorage.setItem(e,t)}catch(a){}},o=function(){try{var e=n("expires_in"),t=n("expires_at"),a=n("access_token");return console.log("new Date().getTime() < expires_at",(new Date).getTime()<t),e&&a&&(new Date).getTime()<t?{isAuthenticated:!0}:{isAuthenticated:!1}}catch(r){return{isAuthenticated:!1}}}}},[[214,3,4]]]);
//# sourceMappingURL=main.45880ce3.chunk.js.map