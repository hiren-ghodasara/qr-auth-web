{"version":3,"sources":["actions/contestActions.js","components/LandingPage.jsx"],"names":["listAllContest","filter","params","dispatch","a","showLoading","type","types","axios","post","res","payload","hideLoading","Promise","reject","Panel","CheckboxGroup","Group","Countdown","formatter","value","filterHeader","className","getColor","T","J","percent","Number","parseFloat","toFixed","PriceRange","props","filterData","onAfterChangePrice","onChangePrice","tipFormatter","min","price","max","range","onAfterChange","onChange","ContestSort","sortArr","onChangeSort","map","item","index","onClick","key","isActive","text","sortBy","ContestCountdown","date","moment","utc","execution_date","local","duration","diff","Date","deadline","now","asMilliseconds","styleClass","asHours","format","LandingPage","chnagePagination","page","pageSize","appliedfilter","onShowSizeChange","current","per_page","checkedValues","onChangeContestType","contests_type","onChangeOrganizer","organizer","Arr","newList","chnageSorting","currentSort","find","x","sort","by","onClearFilter","contestList","onSearchOrganizer","e","target","searchOrganizer","demoCreated","testCreate","current_page","console","log","r","SortVal","debounce","this","listAllFilter","data","total","listLoader","size","bordered","defaultActiveKey","expandIconPosition","header","id","name","placeholder","d","visibility","user","full_name","spinning","length","to","src","config","BASE_URL","photo","alt","avatar_location","created_at","joining_fee","description","joined_user","max_user","status","title","subTitle","showSizeChanger","defaultCurrent","Component","mapDispatchToProps","get","val","connect","state","contest"],"mappings":"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","file":"static/js/8.78b873aa.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\r\nimport * as types from \"./actionTypes\";\r\nimport moment from \"moment\";\r\n\r\nexport function listAllContest(filter) {\r\n  const params = {\r\n    ...filter\r\n  };\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    dispatch({ type: types.LOAD_CONTEST_REQUEST});\r\n    try {\r\n      const res = await axios.post(\"/api/get-all-contest\", params);\r\n      dispatch({ type: types.LOAD_CONTEST_SUCCESS, payload: res });\r\n      dispatch(hideLoading());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch({ type: types.LOAD_CONTEST_FAILURE});\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function testCreate() {\r\n  const params = {\r\n    execution_date: moment()\r\n  };\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    try {\r\n      const res = await axios.post(\"/api/test-create\", params);\r\n      dispatch(hideLoading());\r\n      dispatch(listAllContest());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function listAllFilter() {\r\n  return async dispatch => {\r\n    dispatch(showLoading());\r\n    try {\r\n      const res = await axios.get(\"/api/get-all-filters\");\r\n      dispatch({ type: types.LOAD_CONTEST_FILTER_SUCCESS, payload: res });\r\n      dispatch(hideLoading());\r\n      return res;\r\n    } catch (error) {\r\n      dispatch(hideLoading());\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function searchOrganizer(val) {\r\n  console.log(\"val-----\", val);\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: types.ORGANIZER_SEARCH_SUCCESS, payload: val });\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function chnageSorting(val) {\r\n  console.log(\"chnageSorting-----\", val);\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: types.SORT_CONTEST_SUCCESS, payload: val });\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Collapse, Slider, Pagination, Progress, Checkbox, Input, Button, Statistic, Spin, Result } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { listAllContest, listAllFilter, searchOrganizer, chnageSorting, testCreate } from \"../actions/contestActions\";\r\nimport config from \"../config\";\r\nimport moment from \"moment\";\r\nconst { Panel } = Collapse;\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Countdown } = Statistic;\r\nconst formatter = value => {\r\n  return `${value}%`;\r\n};\r\nconst filterHeader = value => <div className=\"text-secondary mb-0 font-weight-bold\">{value}</div>;\r\n\r\nconst getColor = (T, J) => {\r\n  const percent = Number.parseFloat(((J * 100) / T).toFixed(2));\r\n  if (T === J) {\r\n    return `success`;\r\n  } else if (percent > 70) {\r\n    return `exception`;\r\n  } else {\r\n    return `normal`;\r\n  }\r\n};\r\n\r\nconst PriceRange = props => {\r\n  const { filterData, onAfterChangePrice, onChangePrice, value } = props;\r\n  return (\r\n    <Slider\r\n      tipFormatter={formatter}\r\n      min={filterData.price.min}\r\n      max={filterData.price.max}\r\n      range\r\n      onAfterChange={onAfterChangePrice}\r\n      onChange={onChangePrice}\r\n      //defaultValue={value}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nconst ContestSort = props => {\r\n  const { sortArr, onChangeSort } = props;\r\n  return (\r\n    <div className=\"row m-0 sort-area\">\r\n      {sortArr.map((item, index) => (\r\n        <div\r\n          onClick={() => onChangeSort(sortArr, item)}\r\n          key={index}\r\n          className={`col-sm ${item.isActive ? \"active text-white\" : \"\"} filter-sort border d-flex align-items-center justify-content-center`}\r\n        >\r\n          {item.text} {item.isActive && (item.sortBy === \"asc\" ? <i className=\"ml-2 fas fa-sort-up\"></i> : <i className=\"ml-2 fas fa-sort-down\"></i>)}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// eslint-disable-next-line\r\nconst DemoCountdown = value => {\r\n  const test = moment(value.props.value).format(\"D [days,] HH [hours,] mm [minutes and] ss [seconds]\");\r\n  return <h1>{test}</h1>;\r\n};\r\n\r\nconst ContestCountdown = props => {\r\n  //let date = moment(props.execution_date);\r\n  const date = moment.utc(props.execution_date).local();\r\n  const duration = moment.duration(date.diff(moment(new Date())));\r\n  const deadline = Date.now() + duration.asMilliseconds();\r\n  let styleClass = \"\";\r\n  if (duration.asHours() < 24) {\r\n    styleClass = \"red\";\r\n  }\r\n  // const deadline = Date.now() + duration; //9 days, 23 hours, 59 minutes and 29 seconds\r\n  return <Countdown className={styleClass} value={deadline} format={`H[h]:mm[m]:ss[s]`} />;\r\n};\r\n\r\nclass LandingPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { per_page, current_page, filterData } = this.props.contestList;\r\n    console.log(\"filterData.sortArr.filter(r => !r.isActive)\", filterData.sortArr.find(r => r.isActive));\r\n    const SortVal = filterData.sortArr.find(r => r.isActive);\r\n    this.appliedfilter = {\r\n      page: current_page,\r\n      per_page: per_page,\r\n      price: [filterData.price.min, filterData.price.max],\r\n      contests_type: [],\r\n      organizer: [],\r\n      sort: { key: SortVal.key, by: SortVal.sortBy }\r\n    };\r\n    this.searchOrganizer = debounce(this.props.searchOrganizer, 300);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.listAllFilter();\r\n    this.props.listAllContest(this.appliedfilter);\r\n  }\r\n\r\n  chnagePagination = (page, pageSize) => {\r\n    this.appliedfilter = { ...this.appliedfilter, page: page };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onShowSizeChange = (current, pageSize) => {\r\n    this.appliedfilter = { ...this.appliedfilter, per_page: pageSize };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangePrice = checkedValues => {\r\n    this.appliedfilter = { ...this.appliedfilter, price: checkedValues };\r\n  };\r\n\r\n  onAfterChangePrice = checkedValues => {\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeContestType = checkedValues => {\r\n    this.appliedfilter = { ...this.appliedfilter, contests_type: checkedValues };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeOrganizer = checkedValues => {\r\n    this.appliedfilter = { ...this.appliedfilter, organizer: checkedValues };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onChangeSort = (Arr, checkedValues) => {\r\n    const newList = Arr.map(item => {\r\n      if (item.key === checkedValues.key) {\r\n        if (checkedValues.isActive) {\r\n          if (checkedValues.sortBy === \"asc\") {\r\n            return { ...item, isActive: true, sortBy: \"desc\" };\r\n          } else {\r\n            return { ...item, isActive: true, sortBy: \"asc\" };\r\n          }\r\n        } else {\r\n          return { ...item, isActive: true, sortBy: \"asc\" };\r\n        }\r\n      } else {\r\n        return { ...item, isActive: false };\r\n      }\r\n    });\r\n    this.props.chnageSorting(newList);\r\n    const currentSort = newList.find(x => x.key === checkedValues.key);\r\n    this.appliedfilter = { ...this.appliedfilter, sort: { key: currentSort.key, by: currentSort.sortBy } };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onClearFilter = () => {\r\n    const { filterData } = this.props.contestList;\r\n    this.appliedfilter = { ...this.appliedfilter, price: [filterData.price.min, filterData.price.max], contests_type: [], organizer: [] };\r\n    this.props.listAllContest(this.appliedfilter);\r\n  };\r\n\r\n  onSearchOrganizer = e => {\r\n    const { value } = e.target;\r\n    this.searchOrganizer(value);\r\n  };\r\n\r\n  demoCreated = () => {\r\n    this.props.testCreate();\r\n  };\r\n\r\n  render() {\r\n    const { data, total, per_page, current_page, filterData, listLoader } = this.props.contestList;\r\n    return (\r\n      <div className=\"bg-light section\">\r\n        <div className=\"container-fluid py-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body px-3 py-0\">\r\n                  <div className=\"row  px-4 py-2 border-bottom\">\r\n                    <div className=\"col-8\">\r\n                      <p className=\"h6 font-weight-bold\">Refine Results</p>\r\n                      <p>\r\n                        Showing {per_page} Of {total} Buses\r\n                      </p>\r\n                      <Button type=\"primary\" size=\"small\" onClick={this.demoCreated}>\r\n                        Demo Contest\r\n                      </Button>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <Button type=\"link\" onClick={this.onClearFilter}>\r\n                        Clear All\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <Collapse bordered={false} defaultActiveKey={[\"1\", \"2\"]} expandIconPosition={`right`} className=\"w-100\">\r\n                      <Panel header={filterHeader(`Price`)} key=\"1\">\r\n                        <PriceRange\r\n                          filterData={filterData}\r\n                          onChangePrice={this.onChangePrice}\r\n                          onAfterChangePrice={this.onAfterChangePrice}\r\n                          value={this.appliedfilter.price}\r\n                        />\r\n                      </Panel>\r\n                      <Panel header={filterHeader(`Contest Type`)} key=\"2\">\r\n                        <CheckboxGroup onChange={this.onChangeContestType} value={this.appliedfilter.contests_type}>\r\n                          {filterData.contests_type.map((item, index) => (\r\n                            <div key={index}>\r\n                              <Checkbox value={item.id}>{item.name}</Checkbox>\r\n                            </div>\r\n                          ))}\r\n                        </CheckboxGroup>\r\n                      </Panel>\r\n                      <Panel header={filterHeader(`Organizer`)} key=\"3\">\r\n                        <Input onChange={this.onSearchOrganizer} size=\"small\" placeholder=\"Search Organizer\" className=\"mb-2 border\" />\r\n                        <CheckboxGroup onChange={this.onChangeOrganizer} value={this.appliedfilter.organizer}>\r\n                          {filterData.organizer\r\n                            .filter(d => d.visibility)\r\n                            .map((item, index) => (\r\n                              <div key={index}>\r\n                                <Checkbox value={item.user.id}>\r\n                                  {item.user.full_name} <span>{item.total}</span>\r\n                                </Checkbox>\r\n                              </div>\r\n                            ))}\r\n                        </CheckboxGroup>\r\n                      </Panel>\r\n                    </Collapse>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-9\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body p-0\">\r\n                  <ContestSort {...filterData} onChangeSort={this.onChangeSort} />\r\n                </div>\r\n              </div>\r\n              <Spin spinning={listLoader}>\r\n                <div className=\"mt-2 contest-result\">\r\n                  {data &&\r\n                    data.length > 0 &&\r\n                    data.map((item, index) => (\r\n                      <div className=\"card mt-2\" key={index}>\r\n                        <div className=\"card-body\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-4\">\r\n                              <div className=\"h4 mb-1\">\r\n                                <Link className=\"text-capitalize\" to={`/contest-information/${item.id}`}>{item.name}</Link>\r\n                              </div>\r\n                              {/* <p className=\"h5 text-capitalize\">{item.name}</p> */}\r\n                              <img src={`${config.BASE_URL}/${item.photo}`} className=\"img-fluid contest-photo img-thumbnail\" alt={item.name} />\r\n                              <div className=\"media align-items-center mt-3\">\r\n                                <div className=\"u-avatar mr-2\">\r\n                                  <img\r\n                                    className=\"img-fluid rounded-circle\"\r\n                                    src={`${config.BASE_URL}/storage/${item.user.avatar_location}`}\r\n                                    alt={item.user.avatar_location}\r\n                                  />\r\n                                </div>\r\n                                <div className=\"media-body\">\r\n                                  <small className=\"d-block text-muted\">Listed on {item.created_at} by</small>\r\n                                  <span className=\"d-block\">{item.user.full_name}</span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                              <div className=\"h5 font-weight-bold\">\r\n                                <i className=\"fas fa-rupee-sign\"></i>\r\n                                {item.joining_fee}\r\n                              </div>\r\n                              <p className=\"text-justify font-size-1\">{item.description}</p>\r\n                              <Progress\r\n                                size=\"small\"\r\n                                format={percent => `${item.joined_user}/${item.max_user}`}\r\n                                status={getColor(item.max_user, item.joined_user)}\r\n                                percent={(item.joined_user * 100) / item.max_user}\r\n                                //status=\"active\"\r\n                              />\r\n                              <ContestCountdown execution_date={item.execution_date} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"card-footer border-top-0 d-flex justify-content-end\">\r\n                          <button type=\"button\" className=\"btn btn-outline-primary\">\r\n                            Join\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  {!listLoader && data && data.length === 0 && (\r\n                    <div className=\"card\">\r\n                      <Result title=\"No search results found\" subTitle=\"Try other keyword to search!\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Spin>\r\n              <div className=\"mt-2\">\r\n                <Pagination\r\n                  showSizeChanger\r\n                  onShowSizeChange={this.onShowSizeChange}\r\n                  defaultCurrent={current_page}\r\n                  total={total}\r\n                  pageSize={per_page}\r\n                  onChange={this.chnagePagination}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  contestList: state.contest\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  listAllContest,\r\n  listAllFilter,\r\n  searchOrganizer,\r\n  chnageSorting,\r\n  testCreate\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LandingPage);\r\n"],"sourceRoot":""}